<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Samay Yantra</title>
  <link rel="stylesheet" href="styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="author-section" id="author-section">
    <div class="author-text" id="author-btn"><i class="fas fa-user"></i></div>
    <div class="author-menu" id="author-menu">
      <a href="https://www.linkedin.com/in/abhishek-mandal-a70743326/" target="_blank" class="menu-item">
        <span class="icon"><i class="fa-brands fa-linkedin"></i></span> LinkedIn
      </a>
      <a href="mailto:18mandalabhishek@gmail.com" class="menu-item">
        <span class="icon"><i class="fa-solid fa-envelope"></i></span> Email
      </a>
      <a href="https://github.com/abhishek-mandal01" target="_blank" class="menu-item">
        <span class="icon"><i class="fa-brands fa-github"></i></span> GitHub
      </a>
    </div>
  </div>

  <div class="container">
    <h1 class="title"><span class="cursive">Samay</span> <span class="normal">Yantra</span></h1>
    <div class="digital-timer" id="digital-timer">00:00:00</div>
    <div class="clock">
    <div class="numbers">
      <div class="number" style="--num: 1">1</div>
      <div class="number" style="--num: 2">2</div>
      <div class="number" style="--num: 3">3</div>
      <div class="number" style="--num: 4">4</div>
      <div class="number" style="--num: 5">5</div>
      <div class="number" style="--num: 6">6</div>
      <div class="number" style="--num: 7">7</div>
      <div class="number" style="--num: 8">8</div>
      <div class="number" style="--num: 9">9</div>
      <div class="number" style="--num: 10">10</div>
      <div class="number" style="--num: 11">11</div>
      <div class="number" style="--num: 12">12</div>
    </div>
    <div class="center-background">
      <img class="center-image" src="samay.png" alt="Center Image" />
    </div>

    <div class="hand second" id="second-hand"></div>
    <div class="center-point"></div>
  </div>
  <div class="controls">
    <button class="btn" id="toggle-btn">Start</button>
    <button class="btn" id="reset-btn">Reset</button>
  </div>
  </div>

  <script>
    let stopwatchRunning = false;
    let startTime = 0;
    let elapsedTime = 0;
    let intervalId = null;
    const baseRotation = 164;

    const secondHand = document.getElementById('second-hand');
    const digitalTimer = document.getElementById('digital-timer');
    const toggleBtn = document.getElementById('toggle-btn');
    const resetBtn = document.getElementById('reset-btn');

    function updateStopwatch() {
      const currentTime = Date.now();
      elapsedTime = currentTime - startTime;

      const totalSeconds = Math.floor(elapsedTime / 1000);
      const minutes = Math.floor(totalSeconds / 60);
      const seconds = totalSeconds % 60;
      const centiseconds = Math.floor((elapsedTime % 1000) / 10);

      digitalTimer.textContent = 
        `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}:${String(centiseconds).padStart(2, '0')}`;

      const totalElapsedSeconds = elapsedTime / 1000;
      const secondDegrees = baseRotation + (totalElapsedSeconds * 6);
      secondHand.style.transform = `rotate(${secondDegrees}deg)`;
    }

    toggleBtn.addEventListener('click', () => {
      if (!stopwatchRunning) {
        startTime = Date.now() - elapsedTime;
        intervalId = setInterval(updateStopwatch, 10);
        stopwatchRunning = true;
        toggleBtn.textContent = 'Stop';
        toggleBtn.style.background = 'rgba(255, 201, 4, 0.3)';
      } else {
        clearInterval(intervalId);
        stopwatchRunning = false;
        toggleBtn.textContent = 'Start';
        toggleBtn.style.background = 'rgba(0, 0, 0, 0.4)';
      }
    });

    resetBtn.addEventListener('click', () => {
      clearInterval(intervalId);
      stopwatchRunning = false;
      elapsedTime = 0;
      digitalTimer.textContent = '00:00:00';
      secondHand.style.transform = `rotate(${baseRotation}deg)`;
      toggleBtn.textContent = 'Start';
      toggleBtn.style.background = 'rgba(0, 0, 0, 0.4)';
    });

    const authorBtn = document.getElementById('author-btn');
    const authorMenu = document.getElementById('author-menu');
    const authorSection = document.getElementById('author-section');

    authorBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      authorMenu.classList.toggle('active');
    });

    document.addEventListener('click', (e) => {
      if (!authorSection.contains(e.target)) {
        authorMenu.classList.remove('active');
      }
    });
  </script>
  
  <footer class="footer">
    <p>&copy; 2026 Samay Yantra. Built with creativity. Copying this may accidentally send you back to 2019.</p>
  </footer>
</body>
</html>